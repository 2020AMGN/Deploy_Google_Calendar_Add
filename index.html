<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ì • êµ¬ê¸€ ìº˜ë¦°ë”ì— ì¶”ê°€í•˜ê¸°</title>
    <style>
        /* CSS ìŠ¤íƒ€ì¼ì€ ì´ì „ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€ */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            padding: 20px; 
            background-color: #f8f9fa; 
            max-width: 800px; 
            margin: 0 auto; 
        }
        h1 { 
            color: #333; 
            text-align: center; 
            margin-bottom: 30px; 
        }
        .event-list { 
            list-style: none; 
            padding: 0; 
        }
        .event-item { 
            background: white; 
            border: 1px solid #e0e0e0; 
            padding: 20px; 
            margin-bottom: 20px; 
            border-radius: 12px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1); 
        }
        .event-item h3 { 
            margin-top: 0; 
            color: #1a73e8; 
            font-size: 1.3em; 
        }
        .event-item p { 
            margin: 8px 0; 
            color: #666; 
        }
        .add-calendar-btn { 
            background-color: #4285F4; 
            color: white; 
            border: none; 
            padding: 12px 20px; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 14px; 
            font-weight: 500; 
            margin-top: 10px; 
        }
    </style>
</head>
<body>
    <h1>ğŸ“… ì¼ì • êµ¬ê¸€ ìº˜ë¦°ë”ì— ì¶”ê°€í•˜ê¸°</h1>
    
    <ul class="event-list">
        <li class="event-item">
            <h3>ğŸ‰ ì¿ ë¼ìš´ë“œ ë©”ì´í‚¹ êµìœ¡ ğŸ’¡</h3>
            <p>ğŸ“… 2025ë…„ 7ì›” 19ì¼ (í† )</p>
            <p>â° ì˜¤ì „ 10:00 ~ 13:30</p>
            <p>ğŸ“ ì°½ì—…ë³´ìœ¡ì„¼í„° 2ì¸µ êµìœ¡íšŒì˜ì‹¤</p>
            <p>ğŸ“¢ íƒœê·¸íŒ€ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•´ì„œ ESP32 / ë¼ì¦ˆë² ë¦¬íŒŒì´ ê°„ë‹¨í•œ êµìœ¡ í•  ì˜ˆì • (ìì„¸í•œ ê²ƒì€ ì¶”í›„ ê³µì§€) <br>âš ï¸ 13:30ì—ëŠ” ì„œìš¸ë¡œ ì¶œë°œí•´ì•¼ í•´ì„œ ë¬´ì¡°ê±´ ì €ë•Œ ëë‚´ì•¼í•¨.</p>
            <button class="add-calendar-btn"
                data-event-title="ì¿ ë¼ìš´ë“œ ë©”ì´í‚¹ êµìœ¡"
                data-event-start="2025-07-19T10:00:00"
                data-event-end="2025-07-19T13:30:00"
                data-event-location="ì°½ì—…ë³´ìœ¡ì„¼í„° 2ì¸µ êµìœ¡íšŒì˜ì‹¤"
                data-event-description="íƒœê·¸íŒ€ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•´ì„œ ESP32 / ë¼ì¦ˆë² ë¦¬íŒŒì´ ê°„ë‹¨í•œ êµìœ¡ í•  ì˜ˆì • (ìì„¸í•œ ê²ƒì€ ì¶”í›„ ê³µì§€), 13:30 ì—ëŠ” ì„œìš¸ë¡œ ì¶œë°œí•´ì•¼í•´ì„œ ë¬´ì¡°ê±´ ì €ë•Œ ëë‚´ì•¼í•¨.">
                êµ¬ê¸€ ìº˜ë¦°ë”ì— ì¶”ê°€í•˜ê¸°
            </button>
        </li>
        <li class="event-item">
            <h3>ğŸ”¥ ì„œë²„êµ¬ì¶• ê°•ì˜ ğŸ› ï¸</h3>
            <p>ğŸ“… 2025ë…„ 8ì›” 3ì¼ (ì¼)</p>
            <p>â° ì˜¤ì „ 10:00 ~ 14:00</p>
            <p>ğŸ“ ì°½ì—…ë³´ìœ¡ì„¼í„° 2ì¸µ êµìœ¡íšŒì˜ì‹¤</p>
            <p>ğŸ’¡ ì„œë²„ êµ¬ì¶•ì— í•„ìš”í•œ ê¸°ì´ˆì ì¸ ê°•ì˜ë¥¼ ì§„í–‰ í•  ì˜ˆì •<br>ğŸŒ AWS, SUPABASE, Firebase, ë¼ì¦ˆë² ë¦¬íŒŒì´ ë¥¼ ì´ìš©í•œ ì„œë²„ êµ¬ì¶• í•  ì˜ˆì •</p>
            <button class="add-calendar-btn"
                data-event-title="ì„œë²„êµ¬ì¶• ê°•ì˜"
                data-event-start="2025-08-03T10:00:00"
                data-event-end="2025-08-03T14:00:00"
                data-event-location="ì°½ì—…ë³´ìœ¡ì„¼í„° 2ì¸µ êµìœ¡íšŒì˜ì‹¤"
                data-event-description="ì„œë²„ êµ¬ì¶•ì— í•„ìš”í•œ ê¸°ì´ˆì ì¸ ê°•ì˜ë¥¼ ì§„í–‰ í•  ì˜ˆì • / AWS, SUPABASE, Firebase, ë¼ì¦ˆë² ë¦¬íŒŒì´ ë¥¼ ì´ìš©í•œ ì„œë²„ êµ¬ì¶• í•  ì˜ˆì •">
                êµ¬ê¸€ ìº˜ë¦°ë”ì— ì¶”ê°€í•˜ê¸°
            </button>
        </li>
    </ul>

    <script>
    // í˜ì´ì§€ê°€ ë¡œë“œë˜ë©´ ì‹¤í–‰
    window.onload = function() {
        // ëª¨ë“  'ìº˜ë¦°ë” ì¶”ê°€' ë²„íŠ¼ì„ ì„ íƒ
        const addCalendarButtons = document.querySelectorAll('.add-calendar-btn');

        // ê° ë²„íŠ¼ì— í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€
        addCalendarButtons.forEach(button => {
            button.addEventListener('click', handleAddCalendarClick);
        });
    };

    /**
     * 'ì¼ì • ì¶”ê°€' ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
     */
    function handleAddCalendarClick(event) {
        const button = event.currentTarget;
        const eventData = {
            title: button.dataset.eventTitle,
            startTime: button.dataset.eventStart,
            endTime: button.dataset.eventEnd,
            location: button.dataset.eventLocation,
            details: button.dataset.eventDescription
        };
        
        // PCì™€ ëª¨ë°”ì¼ êµ¬ë¶„ ì—†ì´ ë™ì¼í•œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©
        openCalendarLink(eventData);
    }

    /**
     * êµ¬ê¸€ ìº˜ë¦°ë” URLì„ ìƒì„±í•˜ì—¬ ìƒˆ íƒ­ìœ¼ë¡œ ì—¬ëŠ” í•¨ìˆ˜
     */
    function openCalendarLink(eventData) {
        // êµ¬ê¸€ ìº˜ë¦°ë” URLì˜ ì‹œê°„ í˜•ì‹(YYYYMMDDTHHMMSSZ)ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
        const formatTimeForUrl = (datetime) => {
            if (!datetime) return '';
            // ë‚ ì§œë§Œ ìˆëŠ” ì¢…ì¼ ì´ë²¤íŠ¸(YYYY-MM-DD)ëŠ” '-'ë¥¼ ì œê±°
            if (datetime.length === 10) return datetime.replace(/-/g, '');
            // ì‹œê°„ê¹Œì§€ ìˆëŠ” ì´ë²¤íŠ¸(YYYY-MM-DDTHH:mm:ss)ëŠ” T, :, - ë¥¼ ëª¨ë‘ ì œê±°
            return new Date(datetime).toISOString().replace(/[-:.]/g, '').slice(0, 15) + 'Z';
        };
        
        // ì¢…ì¼ ì´ë²¤íŠ¸ ì¢…ë£Œ ë‚ ì§œ ì²˜ë¦¬ (Google URL ê·œì¹™ì— ë§ê²Œ +1ì¼)
        let endDate;
        if (eventData.startTime.length === 10 && eventData.endTime.length === 10) {
            const date = new Date(eventData.endTime);
            date.setDate(date.getDate() + 1);
            endDate = date.toISOString().split('T')[0].replace(/-/g, '');
        } else {
            endDate = formatTimeForUrl(eventData.endTime);
        }

        const startTime = formatTimeForUrl(eventData.startTime);

        // URLì˜ ê° íŒŒë¼ë¯¸í„°ëŠ” ì¸ì½”ë”© í•„ìˆ˜
        const calendarUrl = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(eventData.title)}&dates=${startTime}/${endDate}&details=${encodeURIComponent(eventData.details || '')}&location=${encodeURIComponent(eventData.location || '')}`;

        // ìƒˆ íƒ­ì—ì„œ URL ì—´ê¸°
        window.open(calendarUrl, '_blank');
    }
    </script>
</body>
</html>